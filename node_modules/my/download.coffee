download = (url, savepath, callback)->
    http     = require 'http'
    fs       = require 'fs'
    outfile  = fs.createWriteStream savepath
    req = http.get(url, (res)->
        res.pipe(outfile)
        res.on('end', ()->
            outfile.close()
            callback()
    )
)


#==========================================================#
module.exports = {
    'download':download
}